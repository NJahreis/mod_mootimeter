{"version":3,"file":"store_options.min.js","sources":["../src/store_options.js"],"sourcesContent":["import Ajax from 'core/ajax';\nimport { exception as displayException } from 'core/notification';\nimport Templates from 'core/templates';\nimport notification from 'core/notification';\n\nexport const init = () => {\n\n    // Register event to input box.\n    var elements = document.getElementsByClassName(\"mtmt-delayed-store\");\n    var pageid = document.getElementById('mtmt_question_section').dataset.pageid;\n\n    // var answer = document.getElementById('mootimeter_type_answer').value;\n\n    Array.from(elements).forEach(function (element) {\n        element.addEventListener('keyup', delay(function (event) {\n            var aoid = this.parentElement.dataset.aoid;\n            window.console.log(this.id + \" => pid: \" + pageid + \" => \" + this.value + \"=>\" + aoid + \" wird ausgef√ºhrt.\");\n\n            Ajax.call([{\n                methodname: 'mootimetertool_quiz_store_answeroption',\n                args: {\n                    pageid: pageid,\n                    aoid: aoid,\n                    value: this.value,\n                    id: this.id\n                },\n                fail: notification.exception,\n            }]);\n\n        }, 1000));\n    });\n\n    /**\n     * Delay a callback for ms.\n     * @param callback\n     * @param ms {int}\n     * @returns {object}\n     */\n    function delay(callback, ms) {\n        var timer = 0;\n        return function () {\n            var context = this, args = arguments;\n            clearTimeout(timer);\n            timer = setTimeout(function () {\n                callback.apply(context, args);\n            }, ms || 0);\n        };\n    }\n};\n"],"names":["elements","document","getElementsByClassName","pageid","getElementById","dataset","Array","from","forEach","element","callback","ms","timer","addEventListener","event","aoid","this","parentElement","window","console","log","id","value","call","methodname","args","fail","notification","exception","context","arguments","clearTimeout","setTimeout","apply"],"mappings":"u1CAKoB,SAGZA,SAAWC,SAASC,uBAAuB,sBAC3CC,OAASF,SAASG,eAAe,yBAAyBC,QAAQF,OAItEG,MAAMC,KAAKP,UAAUQ,SAAQ,SAAUC,aAyBxBC,SAAUC,GACjBC,MAzBJH,QAAQI,iBAAiB,SAwBdH,SAxB6B,SAAUI,WAC1CC,KAAOC,KAAKC,cAAcZ,QAAQU,KACtCG,OAAOC,QAAQC,IAAIJ,KAAKK,GAAK,YAAclB,OAAS,OAASa,KAAKM,MAAQ,KAAOP,KAAO,mCAEnFQ,KAAK,CAAC,CACPC,WAAY,yCACZC,KAAM,CACFtB,OAAQA,OACRY,KAAMA,KACNO,MAAON,KAAKM,MACZD,GAAIL,KAAKK,IAEbK,KAAMC,sBAAaC,cAYNjB,GATlB,IAUCC,MAAQ,EACL,eACCiB,QAAUb,KAAMS,KAAOK,UAC3BC,aAAanB,OACbA,MAAQoB,YAAW,WACftB,SAASuB,MAAMJ,QAASJ,QACzBd,IAAM"}