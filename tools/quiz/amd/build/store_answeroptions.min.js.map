{"version":3,"file":"store_answeroptions.min.js","sources":["../src/store_answeroptions.js"],"sourcesContent":["import Ajax from 'core/ajax';\nimport notification from 'core/notification';\n\nexport const init = () => {\n\n    // Register event to input box.\n    var elements = document.getElementsByClassName(\"mtmt-delayed-store\");\n    var pageid = document.getElementById('mtmt_question_section').dataset.pageid;\n\n    Array.from(elements).forEach(function (element) {\n        element.addEventListener('keyup', delay(function () {\n            var aoid = this.parentElement.dataset.aoid;\n\n            Ajax.call([{\n                methodname: 'mootimetertool_quiz_store_answeroption',\n                args: {\n                    pageid: pageid,\n                    aoid: aoid,\n                    value: this.value,\n                    id: this.id\n                },\n                fail: notification.exception,\n            }]);\n\n        }, 1000));\n    });\n\n    /**\n     * Delay a callback for ms.\n     * @param callback\n     * @param ms {int}\n     * @returns {object}\n     */\n    function delay(callback, ms) {\n        var timer = 0;\n        return function () {\n            var context = this, args = arguments;\n            clearTimeout(timer);\n            timer = setTimeout(function () {\n                callback.apply(context, args);\n            }, ms || 0);\n        };\n    }\n};\n"],"names":["elements","document","getElementsByClassName","pageid","getElementById","dataset","Array","from","forEach","element","callback","ms","timer","addEventListener","aoid","this","parentElement","call","methodname","args","value","id","fail","notification","exception","context","arguments","clearTimeout","setTimeout","apply"],"mappings":"0YAGoB,SAGZA,SAAWC,SAASC,uBAAuB,sBAC3CC,OAASF,SAASG,eAAe,yBAAyBC,QAAQF,OAEtEG,MAAMC,KAAKP,UAAUQ,SAAQ,SAAUC,aAwBxBC,SAAUC,GACjBC,MAxBJH,QAAQI,iBAAiB,SAuBdH,SAvB6B,eAChCI,KAAOC,KAAKC,cAAcX,QAAQS,mBAEjCG,KAAK,CAAC,CACPC,WAAY,yCACZC,KAAM,CACFhB,OAAQA,OACRW,KAAMA,KACNM,MAAOL,KAAKK,MACZC,GAAIN,KAAKM,IAEbC,KAAMC,sBAAaC,cAYNb,GATlB,IAUCC,MAAQ,EACL,eACCa,QAAUV,KAAMI,KAAOO,UAC3BC,aAAaf,OACbA,MAAQgB,YAAW,WACflB,SAASmB,MAAMJ,QAASN,QACzBR,IAAM"}